<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Invitación de Cumpleaños</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="invitation">
  <div class="header">
    <h1>¡Estás Invitado!</h1>
    <p>¡Únete a nosotros para celebrar un día especial!</p>
  </div>
  <div class="userData">
    <h2>Datos del Invitado</h2>
    <div id="userData"></div>
  </div>
  <div class="footer">
    <button id="shareButton">Compartir</button>
  </div>
</div>

<script>
window.onload = function() {
  // Obtener los parámetros de la URL
  var urlParams = new URLSearchParams(window.location.search);
  var userDataString = urlParams.get('data');
  
  // Decodificar los datos del usuario
  var userData = JSON.parse(decodeURIComponent(userDataString));

  // Mostrar los datos en la página
  var userDataElement = document.getElementById('userData');
  userDataElement.innerHTML = "<p><strong>Nombre:</strong> " + userData.name + "</p>" +
                               "<p><strong>Fecha de Cumpleaños:</strong> " + userData.birthday + "</p>" +
                               "<p><strong>Hora de Inicio del Cumpleaños:</strong> " + userData.time + "</p>";

  // Botón para compartir
  var shareButton = document.getElementById('shareButton');
  shareButton.addEventListener('click', function() {
    var sharedText = "¡Estás invitado al cumpleaños de " + userData.name + "! Fecha: " + userData.birthday + ", Hora: " + userData.time;
    var encodedSharedText = encodeURIComponent(sharedText);
    var whatsappURL = "whatsapp://send?text=" + encodedSharedText;
    window.open(whatsappURL);
  });
}
</script>

</body>
</html>
